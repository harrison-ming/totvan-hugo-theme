{{ define "main" }}
<!-- Load Waline authentication styles (independent module) -->
<link rel="stylesheet" href="{{ "css/waline-custom-auth.css" | absURL }}">
<!-- Load site custom CSS -->
<link rel="stylesheet" href="{{ "css/custom.css" | absURL }}">

<div class="waline-custom-login-container">
  <div class="waline-custom-login-card">
    <!-- Brand Header -->
    <div class="waline-login-header">
      <h1 class="waline-login-title">注册账号</h1>
      <p class="waline-login-subtitle">创建您的评论账号</p>
    </div>

    <!-- Registration Form -->
    {{ partial "comments/register-form.html" . }}

    <!-- Footer Links -->
    <div class="waline-login-footer">
      <p>
        注册即表示您同意我们的
        <a href="{{ .Site.Params.waline.customLogin.termsURL | default "/terms-of-service" }}">服务条款</a>
        和
        <a href="{{ .Site.Params.waline.customLogin.privacyURL | default "/privacy-policy" }}">隐私政策</a>
      </p>
      <a href="{{ .Site.BaseURL }}" class="waline-back-link">← 返回首页</a>
    </div>
  </div>
</div>

<!-- Load Waline Registration JavaScript -->
<script src="{{ "js/waline-register.js" | absURL }}"></script>

<script>
  // Initialize Waline Registration
  const walineRegister = new WalineRegister({
    serverURL: '{{ .Site.Params.waline.serverURL }}',
    redirectURL: '{{ .Site.Params.waline.customLogin.path | default "/login" }}'
  });
</script>
{{ end }}
