{{- $taxonomy := .taxonomy -}}
{{- $page := .page -}}
{{- with $page.GetTerms $taxonomy -}}
<div class="mt-8 mb-6">
  <h3 class="text-lg font-semibold mb-4 text-gray-700">
    {{- if eq $taxonomy "tags" -}}
      🏷️ 相关标签
    {{- else if eq $taxonomy "categories" -}}
      📁 文章分类
    {{- else -}}
      {{ $taxonomy | title }}
    {{- end -}}
  </h3>
  <div class="flex flex-wrap gap-2">
    {{- range . -}}
    {{- $termCount := len .Pages -}}
    <a href="{{ .RelPermalink }}" 
       class="inline-flex items-center px-3 py-1 text-sm font-medium rounded-full transition-colors {{ if ge $termCount 10 }}bg-primary-100 hover:bg-primary-200 text-primary-800{{ else if ge $termCount 5 }}bg-secondary-100 hover:bg-secondary-200 text-secondary-800{{ else }}bg-gray-100 hover:bg-gray-200 text-gray-700{{ end }}"
       title="{{ .Title }}: {{ $termCount }} 篇文章">
      {{ .Title }}
      <span class="ml-1 text-xs opacity-70">({{ $termCount }})</span>
    </a>
    {{- end -}}
  </div>
</div>
{{- end -}}